import Head from 'next/head'
import { Box, Button, Card, CardContent, Container, Stack, Typography } from '@mui/material'
import styles from '../styles/Home.module.css'
import AccountCircleIcon from '@mui/icons-material/AccountCircle';
import AddIcon from '@mui/icons-material/Add';

const CardComponent = ({total_balance}) => {
  return (
    <Card className={styles.card}>
        <CardContent>
            <Typography variant="body2" children="Total Balance" />
            <Typography variant='h4' mt={1}>Rp {total_balance}</Typography>
        </CardContent>
    </Card>
  )
}

const BudgetComponent = ({ icon, title}) => {
    return (
        <Box className={styles.budgets}>
            <Typography variant='h4'>{icon}</Typography>
            <Typography mt={1} variant='body2'>{title}</Typography>
        </Box>
    )
}


const HistoryComponent= ({type, category, title, budget, date})=> {
    return (
        <Card className={styles.card} sx={{display: 'flex'}}>
            <CardContent style={{width: "100%"}}>
                <Typography width="fit-content">{category}</Typography>
                <Stack>
                    <Typography width="fit-content">{title}</Typography>
                    <Typography width="fit-content">{date}</Typography>
                </Stack>
                <Typography width="fit-content">{budget}</Typography>
                <Typography width="fit-content">{type}</Typography>
            </CardContent>
        </Card>
    )
}

export default function Home() {
    const dummyBudget = [
        {icon: 'üöó', title: 'Transport'},
        {icon: 'üçî', title: 'Food'},
        {icon: 'üíª', title: 'PC'},
        {icon: 'üëö', title: 'Apparel'},
    ]
    return (
        <>
        <Head>
            <title>Create Next App</title>
            <meta name="description" content="Generated by create next app" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <link rel="icon" href="/favicon.ico" />
        </Head>
        <header className={styles.header}>
            <Typography variant='h6' children="CUAN" />
            <AccountCircleIcon />
        </header>
        <Container>
            <Box>
            <Typography variant='body2' children="Good Morning," />
            <Typography variant='h6' children="Khairunnisa" />
            </Box>
            <CardComponent total_balance={"1.000.000"} />
            <Box py={2} sx={{overflowX: "scroll"}}>
                <Typography variant='h6' children="Budgets" />
                <Stack mt={2} direction="row" spacing={2}>
                    {
                        dummyBudget.map(budget => (
                            <BudgetComponent icon={budget.icon} title={budget.title} />
                        ))
                    }
                    <Box className={styles.newBudget}>
                        <Typography variant='h4'><AddIcon /></Typography>
                        <Typography variant="body2" mt={1} textAlign='center' width="8ch">Add new Budget</Typography>
                    </Box>
                </Stack>
            </Box>
            <Box py={2}>
                <Typography variant='h6' children="History" />
                <HistoryComponent  
                    category='üçî' 
                    type='outcome' 
                    title="sushi"
                    date="24-2-2023"
                    budget="50.000" 
                />
            </Box>
        </Container>
        </>
    )
}
